<!doctype html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Login Success</title>
</head>
<body>
<h2>로그인 성공</h2>
<pre id="me">불러오는 중...</pre>
<button id="go-home">처음으로</button>
<script>
    (async function() {
      try {
        const res = await fetch("/api/me", { credentials: "include" });
        const el = document.getElementById("me");
        if (!res.ok) {
          el.textContent = "로그인 상태 확인 실패: HTTP " + res.status;
          return;
        }
        const data = await res.json();
        el.textContent = JSON.stringify(data, null, 2);
      } catch (e) {
        document.getElementById("me").textContent = "에러: " + e;
      }
    })();

    document.getElementById("go-home").addEventListener("click", () => {
      window.location.href = "/";
    });
</script>
</body>
</html>
